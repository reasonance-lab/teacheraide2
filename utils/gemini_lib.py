import os
import time
import google.generativeai as genai

genai.configure(api_key=os.environ["GEMINI_API_KEY"])

def upload_to_gemini(path, mime_type=None):
  """Uploads the given file to Gemini.

  See https://ai.google.dev/gemini-api/docs/prompting_with_media
  """
  file = genai.upload_file(path, mime_type=mime_type)
  # print(f"Uploaded file '{file.display_name}' as: {file.uri}")
  return file

def wait_for_files_active(files):
  """Waits for the given files to be active.

  Some files uploaded to the Gemini API need to be processed before they can be
  used as prompt inputs. The status can be seen by querying the file's "state"
  field.

  This implementation uses a simple blocking polling loop. Production code
  should probably employ a more sophisticated approach.
  """
  #print("Waiting for file processing...")
  for name in (file.name for file in files):
    file = genai.get_file(name)
    while file.state.name == "PROCESSING":
      #print(".", end="", flush=True)
      time.sleep(10)
      file = genai.get_file(name)
    if file.state.name != "ACTIVE":
      raise Exception(f"File {file.name} failed to process")
  # print("...all files ready")
  # print()

# Create the model
generation_config = {
  "temperature": 1,
  "top_p": 0.95,
  "top_k": 40,
  "max_output_tokens": 8192,
  "response_mime_type": "application/json",
}

model = genai.GenerativeModel(
  model_name="gemini-2.0-flash",
  generation_config=generation_config,
)

# TODO Make these files available on the local file system
# You may need to update the file paths
files = [
  upload_to_gemini("download.pdf", mime_type="application/pdf"),
]

# Some files have a processing delay. Wait for them to be ready.
wait_for_files_active(files)

chat_session = model.start_chat(
  history=[
    {
      "role": "user",
      "parts": [
        files[0],
        "Extract the whole text from the pdf file. Get rid of advertisement and text not directly involved in the content.",
      ],
    },
    {
      "role": "model",
      "parts": [  ],
    },
    {
      "role": "user",
      "parts": [
        "Using ONLY the information from the provided text, create an engaging textbook chapter that teaches through conversation and discovery:\n1. STRUCTURE & NARRATIVE FLOW\nOpening:\n- Begin with an engaging \"big picture\" question or scenario\n- Provide clear, relatable definition of main concept\n- Set up chapter's learning journey\nContent Flow:\n- Progress logically from fundamentals to advanced topics\n- Use consistent narrative transitions:\n  * \"Let's explore...\"\n  * \"Now that we understand X, let's discover...\"\n  * \"You might be wondering...\"\n  * \"Here's where it gets interesting...\"\n- Break down complex topics into clear steps\n- Maintain source material's depth and scope\n2. MAKING CONCEPTS RELATABLE\nAnalogies:\n- Start each major concept with a familiar comparison:\n  * Compare scientific structures to everyday objects\n  * Relate processes to common experiences\n  * Link abstract concepts to tangible examples\n- Explain why each analogy works\n- Note any limitations of the comparison\nReal-World Connections:\n- Connect concepts to daily life applications\n- Use age-appropriate examples for 10th grade high school.\n- Include \"Did you know?\" segments for interesting facts\n3. ENGAGEMENT ELEMENTS\nInteractive Components:\n- Add \"Think About It\" boxes for reflection\n- Include \"Try This\" mini-activities\n- Pose guiding questions throughout\n- Address common misconceptions directly\nPractice & Understanding:\n- Provide worked examples with clear steps\n- Include guided practice problems\n- Add \"Check Your Understanding\" sections\n- Use mixed difficulty levels for problems\n4. TECHNICAL ACCURACY WITH ACCESSIBILITY\nContent Presentation:\n- Maintain scientific accuracy from source\n- Break down equations step-by-step\n- Define all terms in clear language\n- Use proper notation consistently\n- Include numerical examples\nVisual Elements:\n- Describe diagrams clearly using <image: detailed description>\n- Reference visuals in the text\n- Explain what to observe in each visual\n5. FORMATTING & STRUCTURE\nOrganization:\n- Use clear hierarchy (Chapter X, Section X.X)\n- Include concept boxes and summaries\n- Number all procedures and steps\n- Add margin notes for key points\nEach Section Should Include:\n- Opening question or scenario\n- Clear explanation with analogies\n- Worked examples\n- Practice problems\n- Summary points\nVoice and Tone:\n- Write like an enthusiastic, knowledgeable teacher\n- Use conversational but educational language\n- Guide reader through discoveries\n- Encourage curiosity and questions\nTarget Audience: 10th grade Chemistry students.\nLength: Maintain proportional to source material length\nNote: All content must come from the provided text. Focus on making complex concepts accessible through clear explanation, relatable analogies, and guided discovery.",
      ],
    },
    {
      "role": "model",
      "parts": [
        "```json\n{\n  \"chapterTitle\": \"Molecular Geometry: Unveiling the Shapes of Molecules\",\n  \"sections\": [\n    {\n      \"sectionNumber\": \"1.1\",\n      \"sectionTitle\": \"The Big Picture: Why Does Shape Matter?\",\n       \"openingScenario\":\"Imagine building with Lego bricks. You can connect the same bricks in different ways, leading to wildly different creations, like a car versus a house. Molecules are similar – the same atoms can combine in unique arrangements, leading to molecules with very different properties. Have you ever wondered how this works? That’s what we'll be exploring in this chapter! We are going to understand the three-dimensional arrangement of atoms within molecules, which we call **molecular geometry**.\",\n        \"conceptDefinition\":\"Molecular geometry, also known as molecular structure, refers to the 3D arrangement of atoms in a molecule. It dictates a molecule's shape, which affects its properties such as polarity, reactivity, and even its state of matter!\",\n      \"learningJourney\":\"Our learning journey begins with understanding the core principles of how these shapes are formed. Then we’ll look at different types of geometries, and then learn to predict these shapes for various molecules, kind of like predicting how Lego bricks will connect!. So let’s dive in!\",\n      \"analogy\": \"Think of molecules like tiny dancers on a stage. The position of each dancer, and their relationship to each other, creates the overall form of the dance. Similarly, the arrangement of atoms in a molecule gives it its unique shape.\",\n        \"analogyExplanation\": \"Just as the dance steps are dictated by the music and choreography, the arrangement of atoms in a molecule is dictated by the interactions between the atoms themselves.  \",\n       \"analogyLimitations\": \"Remember, our 'dancer' analogy has limitations; atoms are not moving in the same way as people. But it does help us visualize how positions of the atoms relative to each other create a shape.\",\n      \"realWorldConnection\": \"Did you know? The shape of a water molecule, H2O, affects how it interacts with other water molecules, making water a liquid at room temperature instead of a gas. Imagine if water was a gas all the time! The entire world around us would be completely different!\",\n       \"thinkAboutIt\":\"Think About It: What other real world molecules do you think would have very specific shapes that are important to their function? Consider the shape of proteins or DNA as examples.\",\n         \"summaryPoints\":[\n        \"Molecular geometry is the 3D arrangement of atoms within a molecule.\",\n        \"A molecule's shape affects its properties and interactions with other molecules.\",\n        \"We are going to discover how to predict these shapes by using basic scientific principles.\"\n      ]\n    },\n      {\n      \"sectionNumber\": \"1.2\",\n      \"sectionTitle\": \"The Foundation: Valence Electrons & Repulsion\",\n      \"openingScenario\": \"Now, you might wonder, what decides how these molecules arrange themselves? It all boils down to electrons! Specifically, those in the outermost shell, which are called valence electrons.  Have you ever seen magnets repel each other? Well, electrons do something similar. Let’s explore this!\",\n        \"conceptDefinition\": \"The **valence shell electron-pair repulsion (VSEPR) theory** is a model used in chemistry to predict the geometry of individual molecules from the number of electron pairs surrounding their central atoms. VSEPR theory states that electron pairs – both those in bonds (bonding pairs) and those not (lone pairs) – repel each other, and arrange themselves to be as far away as possible.\",\n      \"analogy\":\"Imagine you have a handful of balloons all tied together. They will naturally move and position themselves to be as far apart from each other as possible, and the overall shape of the balloon bunch is influenced by this.\",\n        \"analogyExplanation\": \"Electrons, like the balloons, repel each other. So, they arrange themselves around an atom to minimize this repulsion, and this position is what determines a molecule's geometry\",\n      \"analogyLimitations\": \"Unlike the balloons, electrons do not literally push each other apart. Instead the electromagnetic forces of repulsion dictate their configuration.\",\n      \"realWorldConnection\":\"Imagine you want to create a stable table. You wouldn't put three legs too close to each other, would you? You would spread them out to make it as stable as possible. Similarly, molecules arrange electron pairs to increase their stability.\",\n          \"conceptBox\":{\n              \"title\":\"Key Ideas of VSEPR Theory\",\n               \"points\": [\n                  \"Shape depends on valence electron pairs.\",\n                  \"Electron pairs repel each other.\",\n                  \"Pairs maximize distance to minimize repulsion.\",\n                  \"Repulsion order: lone pair-lone pair > lone pair-bond pair > bond pair-bond pair.\"\n                ]\n          },\n      \"tryThis\":\"Try This: Draw a central atom and around it place 2, then 3, then 4 points to represent electron pairs maximizing their distance to each other. Notice how the arrangement changes each time.\",\n     \"summaryPoints\":[\n        \"VSEPR theory helps predict molecular geometry.\",\n        \"Electron pairs repel each other, seeking maximal distance.\",\n        \"Both bonding and lone pairs influence molecular shape.\"\n      ]\n    },\n    {\n       \"sectionNumber\": \"1.3\",\n      \"sectionTitle\": \"Basic Shapes: Linear, Trigonal Planar, and Tetrahedral\",\n       \"openingScenario\":\"Now that we understand the principle of electron repulsion, let's see how these interactions play out to create different molecular geometries. We will start with the simplest, most fundamental geometries.\",\n        \"conceptDefinition\": \"The shapes that molecules can take range from simple linear shapes to complex octahedral arrangements. But there are common, fundamental shapes that help us to understand and predict molecular geometry.\",\n      \"analogy\":\"Think of these shapes like building blocks. Each shape is made up of groups of electrons, arranged around a central atom to minimize repulsion. Just like you use fundamental shapes to build more complex structures in building, molecules will do the same to create more complicated shapes.\",\n         \"analogyExplanation\":\"The electron groups, whether they are bonds or lone pairs, arrange themselves to maximize distance and thus minimize repulsion. This leads to very characteristic and reproducible shapes.\",\n      \"realWorldConnection\":\"Did you know? Carbon dioxide (CO2), which is a gas we exhale, is linear.  Meanwhile, the structure of a molecule of Methane (CH4), the primary component of natural gas, is tetrahedral.\",\n         \"conceptBox\":{\n              \"title\":\"Molecular Shapes & Bond Angles\",\n              \"points\":[\n                  \"**Linear:** Two electron groups, 180° bond angle. <image: linear diagram>\",\n                  \"**Trigonal Planar:** Three electron groups, 120° bond angle. <image: trigonal planar diagram>\",\n                \"**Tetrahedral:** Four electron groups, 109.5° bond angle.  <image: tetrahedral diagram>\"\n              ]\n          },\n           \"workedExample\": {\n        \"title\": \"Example: Beryllium Chloride (BeCl2)\",\n        \"steps\":[\n             \"1. Be has 2 valence electrons. Each Cl has 7, so total is 2 + 2x7 = 16 electrons\",\n          \"2. Be is central atom, forms two bonds with Cl atoms\",\n          \"3.  There are 2 bonding groups and zero lone pairs around Be.\",\n          \"4. This corresponds to a linear structure with a bond angle of 180 degrees.\"\n        ]\n      },\n      \"guidedPractice\":{\n        \"title\":\"Practice Problem 1\",\n        \"instruction\":\"Predict the molecular geometry and bond angle for BF3. Use the concept box to guide you.\"\n      },\n     \"summaryPoints\":[\n        \"Linear, trigonal planar, and tetrahedral are fundamental molecular shapes.\",\n         \"Each shape has a characteristic bond angle determined by the arrangement of electron groups.\",\n        \"These shapes are the foundation for more complex structures.\"\n      ]\n    },\n    {\n      \"sectionNumber\": \"1.4\",\n       \"sectionTitle\": \"Expanding Horizons: Trigonal Bipyramidal and Octahedral Geometries\",\n      \"openingScenario\":\"Now that we have explored some basic shapes, we’re ready to explore more complicated geometries. Things start to get a little more interesting when we consider molecules that have five or six electron groups surrounding the central atom.\",\n        \"conceptDefinition\": \"When a central atom is surrounded by more than four electron groups, we encounter trigonal bipyramidal and octahedral geometries.\",\n       \"analogy\": \"Imagine you are arranging flags around a flagpole. If you have five flags, you might have three in a circle around the flagpole and two more above and below the circle, giving you a trigonal bipyramid arrangement. If you have six flags, you might place them in an symmetrical arrangement around the pole, kind of like the vertices of a octahedron\",\n          \"analogyExplanation\": \"Again, each arrangement is dictated by the idea that electron pairs seek maximal distance from each other to minimize repulsion.\",\n      \"realWorldConnection\": \"Did you know? Sulfur hexafluoride (SF6), which is used as an insulator, has an octahedral shape.  Phosphorous pentafluoride (PF5) is a trigonal bipyramidal molecule.\",\n         \"conceptBox\":{\n              \"title\":\"Molecular Shapes & Bond Angles\",\n              \"points\":[\n                  \"**Trigonal Bipyramidal:** Five electron groups, 90° and 120° bond angles. <image: trigonal bipyramidal diagram>\",\n                \"**Octahedral:** Six electron groups, 90° bond angle. <image: octahedral diagram>\"\n              ]\n          },\n           \"workedExample\": {\n        \"title\": \"Example: Phosphorus Pentafluoride (PF5)\",\n        \"steps\":[\n             \"1. P has 5 valence electrons, and each F has 7. Total is 5 + 5x7 = 40 electrons.\",\n          \"2. P is central atom, forms 5 bonds with F atoms.\",\n          \"3. There are 5 bonding groups around the central atom\",\n           \"4. This corresponds to a trigonal bipyramidal structure with bond angles of 90 and 120 degrees.\"\n        ]\n      },\n     \"guidedPractice\":{\n          \"title\":\"Practice Problem 2\",\n          \"instruction\":\"Determine the molecular geometry and bond angles for a molecule of SF6.\"\n      },\n       \"summaryPoints\":[\n         \"Trigonal bipyramidal and octahedral geometries occur with 5 and 6 electron groups, respectively.\",\n          \"Each geometry has specific bond angles that minimize electron repulsion.\",\n        \"These shapes represent more complex arrangements for larger molecules.\"\n      ]\n    },\n    {\n      \"sectionNumber\": \"1.5\",\n       \"sectionTitle\": \"The Impact of Lone Pairs: Irregular Geometries\",\n        \"openingScenario\":\"So far, our discussions have focused on molecules where all electron groups are bonding pairs. However, we know molecules can also have lone pairs of electrons. This is where the geometry becomes more interesting because it deviates from the ‘ideal’ shapes.\",\n        \"conceptDefinition\":\"Lone pairs of electrons also influence the overall geometry of the molecule.  Because they have higher repulsive forces, they change the expected geometry.\",\n      \"analogy\":\"Imagine again the balloon analogy, but now some of the balloons are invisible. They are still repelling the other balloons, but you won’t see those balloons in your molecule shape. Just as you would need to rearrange your visible balloons because of those invisible balloons, molecules change their geometry because of the lone pairs\",\n       \"analogyExplanation\":\"Lone pairs exert more repulsive forces than bonding pairs. So, the molecular geometry will be different from the electron-group geometry when lone pairs are involved.\",\n       \"realWorldConnection\":\"Did you know? Water (H2O) has a bent shape, even though the electron-group geometry is tetrahedral.  Ammonia (NH3) is pyramidal rather than trigonal planar. These irregularities are all because of the lone pairs.\",\n         \"conceptBox\":{\n            \"title\":\"Irregular Molecular Geometries\",\n             \"points\":[\n                 \"**Bent:** Two bonding and one or two lone pairs, with angles less than 120 degrees. <image: bent diagram>\",\n               \"**Pyramidal:** Three bonding and one lone pair, with angles less than 109.5 degrees. <image: pyramidal diagram>\",\n                 \"**Seesaw, T-shaped, Square Pyramidal, Square Planar:** Are all other irregular shapes from larger molecules due to lone pairs.\"\n             ]\n         },\n           \"workedExample\": {\n        \"title\": \"Example: Water (H2O)\",\n        \"steps\":[\n             \"1. Oxygen has 6 valence electrons, and each H has 1. Total is 6 + 2x1 = 8 electrons.\",\n          \"2. O is central atom, forms 2 bonds with H atoms.\",\n          \"3.  There are two bonding groups and two lone pairs around O.\",\n          \"4.  The electron geometry is tetrahedral, but the molecular geometry is bent due to lone pair repulsion.\"\n        ]\n      },\n     \"guidedPractice\":{\n        \"title\":\"Practice Problem 3\",\n        \"instruction\":\"Predict the molecular geometry of Ammonia (NH3).\"\n      },\n       \"summaryPoints\":[\n            \"Lone pairs alter ideal geometries due to stronger repulsions.\",\n            \"Molecules with lone pairs have distinct molecular geometries.\",\n            \"Bent and pyramidal are examples of irregular geometries arising from lone pairs.\"\n      ]\n    },\n     {\n        \"sectionNumber\": \"1.6\",\n         \"sectionTitle\":\"Putting It All Together: Predicting Molecular Geometries\",\n        \"openingScenario\":\"Okay, we've covered a lot of ground! Let’s take all the steps and create a process to predict the shapes of molecules.\",\n          \"conceptDefinition\": \"To effectively predict molecular shapes, we must follow a specific series of steps. These steps help identify the location of electron pairs and thereby dictate the shape of molecules.\",\n        \"analogy\":\"Think of this like solving a puzzle; you need to put pieces together in the correct order to reveal the final picture. Just like in the puzzle, steps are involved in predicting molecular geometries.\",\n         \"analogyExplanation\":\"By following a specific set of steps, we can consistently predict the correct molecular geometry for different molecules.\",\n      \"steps\":[\n        \"1. Draw the Lewis Structure: Determine the total number of valence electrons and arrange them to show bonds and lone pairs. This gives you information on electron groups.\",\n          \"2. Count Electron Groups: Count both the bonding pairs and lone pairs around the central atom to determine the total number of electron groups.\",\n           \"3. Determine Electron-Group Geometry: Based on the number of electron groups, determine the basic geometry (linear, trigonal planar, tetrahedral, trigonal bipyramidal, or octahedral).\",\n           \"4. Determine Molecular Geometry: Based on the number of lone pairs, determine the molecular geometry (e.g. bent, pyramidal) – remember that lone pairs will have different geometries than bonding pairs.\"\n      ],\n     \"workedExample\": {\n        \"title\": \"Example: Sulfur Dioxide (SO2)\",\n        \"steps\":[\n          \"1. Lewis Structure: S has 6 valence electrons and each O has 6, so total is 6 + 2x6 = 18 electrons. The structure has a double bond and a single bond.\",\n           \"2. Electron Groups:  S has 3 electron groups: 2 bonding and 1 lone pair.\",\n           \"3. Electron-Group Geometry: 3 groups is trigonal planar.\",\n          \"4. Molecular Geometry: one lone pair and two bonds corresponds to a bent molecular geometry.\"\n        ]\n      },\n       \"checkYourUnderstanding\":{\n        \"title\": \"Check your understanding\",\n           \"questions\":[\n               \"1.  What are the steps used to predict a molecule's geometry?\",\n            \"2.  What is the difference between molecular and electronic geometry?\",\n           \"3.  How do lone pairs of electrons affect molecular shape?\",\n            \"4.  Predict the molecular geometry of CCl4.\",\n            \"5.  Predict the molecular geometry of PCl4\"\n           ]\n      },\n         \"summaryPoints\":[\n              \"Predicting molecular geometry involves a series of steps.\",\n            \"Lewis structures and electron counting help determine the type of arrangement.\",\n             \"Combining electron-group geometry and lone pair effect allows accurate prediction.\"\n        ]\n    },\n       {\n      \"sectionNumber\": \"1.7\",\n      \"sectionTitle\": \"Additional Details: Dipole Moments\",\n      \"openingScenario\":\"Molecular shape is very important to overall properties, but the distribution of electrons within a molecule also matters! Sometimes the electron distribution is not equal. This phenomenon is called a dipole moment, and the shape of a molecule has much to do with whether or not there is a net dipole moment.\",\n       \"conceptDefinition\": \"A dipole moment occurs when there is an uneven distribution of electrons in a molecule, creating a positive and negative end, or poles. A molecule with a net dipole is called polar, while molecules with no net dipole are nonpolar\",\n     \"analogy\":\"Think of a tug-of-war where one side is pulling more strongly than the other.  If the pull is uneven, the rope will have a net shift towards the stronger side. Similarly, electrons can be pulled more strongly by one atom in a bond than the other, creating a dipole moment.\",\n     \"analogyExplanation\": \"Just as the net pull direction and strength matters in the tug of war analogy, the electronegativity differences in chemical bonds will determine the presence or absence of a dipole.\",\n      \"realWorldConnection\": \"Did you know? Water (H2O) is polar because of the uneven distribution of electrons between hydrogen and oxygen atoms. This polarity is the basis of water’s solvent properties.  Carbon dioxide is non-polar even though the bonds are polar, because the shape of the molecule is linear and symmetrical.\",\n      \"keyPoints\":[\n             \"Polar molecules have a net dipole, due to uneven electron distribution.\",\n           \"Dipole moment is the quantitative measure of a molecule's polarity.\",\n            \"Molecular geometry influences whether there is a net dipole in a molecule or not.\"\n          ],\n        \"dipoleEquation\":{\n              \"equation\":\"μ = δ × d\",\n              \"explanation\": [\n                  \"μ = dipole moment (debye)\",\n                  \"δ = partial charge (C)\",\n                  \"d = distance (m)\"\n              ]\n        },\n      \"determiningPolarity\":{\n        \"rules\":[\n         \"A. If the molecule has a net dipole, then it is polar.\",\n          \"B. If the structure is symmetric, then it is non-polar\",\n           \"C. There are three rules to this part: 1. When there are no lone pairs on the center atom, then the molecule is non-polar 2. If it is linear or square planar, then it is non-polar. (This rule is more important than rule 1, so it overrules it because it has lone pairs.) 3. If it has different terminal atoms, then it is polar. (This rule overrules rule 1 and 2 because it is more important.)\"\n       ]\n      },\n        \"workedExample\": {\n          \"title\": \"Example: Hydrogen Chloride (HCl)\",\n           \"steps\":[\n             \"1. Cl is more electronegative than H. Electrons are pulled toward Cl, giving it a partial negative charge and H a partial positive charge.\",\n            \"2. This results in a dipole moment, shown with an arrow pointing towards Cl.\",\n             \"3. As there is only one bond, there is a net dipole.  HCl is therefore a polar molecule.\"\n             ]\n        },\n     \"guidedPractice\":{\n        \"title\":\"Practice Problem 4\",\n        \"instruction\":\"Determine whether molecules of water and methane are polar or non-polar.  Use the rules for determining polarity to help you.\"\n      },\n         \"summaryPoints\":[\n            \"Dipole moments occur with uneven electron distribution in a bond.\",\n         \"Molecular geometry influences whether individual dipoles result in a net dipole.\",\n            \"Polarity has significant effects on intermolecular interactions and material properties.\"\n          ]\n    },\n        {\n      \"sectionNumber\": \"1.8\",\n      \"sectionTitle\": \"Chapter Summary & Beyond\",\n        \"summaryPoints\":[\n           \"Molecular geometry describes the 3D arrangement of atoms in a molecule.\",\n           \"VSEPR theory predicts molecular shapes based on electron pair repulsion.\",\n           \"Fundamental shapes include linear, trigonal planar, and tetrahedral.\",\n           \"More complex shapes like trigonal bipyramidal and octahedral emerge with 5 and 6 electron groups.\",\n          \"Lone pairs cause irregularities in molecular geometries.\",\n            \"Predicting molecular geometries involves a series of steps.\",\n           \"Dipole moments occur due to uneven electron distribution, and polarity is influenced by a molecule’s shape.\",\n         ],\n           \"conclusion\":\"Congratulations! You've completed our exploration into molecular geometry. Remember, this journey is just the start. Molecular shapes form the bedrock of understanding chemical reactivity, material properties, and so much more. Use your understanding to explore the shapes around you – the world is full of interesting molecules waiting to be discovered!\",\n        \"furtherExploration\":{\n         \"title\":\"Further Exploration\",\n              \"points\":[\n                 \"Study the geometries of complex biomolecules like DNA and proteins.\",\n             \"Research how molecular geometry influences drug design and material science.\",\n           \"Explore more advanced concepts in VSEPR theory.\"\n             ]\n         }\n    }\n  ]\n}\n```",
      ],
    },
  ]
)

response = chat_session.send_message("INSERT_INPUT_HERE")

print(response.text)